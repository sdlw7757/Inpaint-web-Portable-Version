# Inpaint-web 图像处理应用
# 一个可以在没有安装开发环境的电脑上运行的便携式图像处理应用。
<img width="1452" height="944" alt="捕获" src="https://github.com/user-attachments/assets/cc75343b-4563-4bfa-ac55-883b78da4de9" />

## 📋 目录

- [功能特点](#功能特点)
- [系统要求](#系统要求)
- [使用方法](#使用方法)
- [应用启动说明](#应用启动说明)
- [功能介绍](#功能介绍)
- [技术架构](#技术架构)
- [常见问题及解决方案](#常见问题及解决方案)
- [目录结构](#目录结构)
- [许可证](#许可证)

## 功能特点

- **图像修复 (Inpainting)**：修复图片中的损坏或不需要的部分
- **图像高清化 (Super-Resolution)**：提高图像的分辨率和清晰度
- **本地模型处理**：应用包含所有必要的模型文件，无需网络下载
- **纯浏览器运行**：所有处理都在浏览器中完成，保护您的隐私
- **便携式设计**: 无需安装，解压即用
- **多环境支持**：自动检测并使用最佳运行环境

## 系统要求

- Windows 7 或更高版本
- 至少4GB内存推荐

## 使用方法

1. 下载并解压应用包
2. 双击 ``start.bat`` 文件启动应用
3. 等待应用启动完成（可能需要几秒钟）
4. 应用启动后会自动打开浏览器
5. 访问 `http://localhost:5173` 使用应用

## 应用启动说明

应用会自动检测并使用以下环境之一(按优先级排序):

1. **内置Node.js** - 应用已包含Node.js运行时，无需额外安装
2. **系统Node.js** - 如果系统已安装Node.js，将使用系统版本

如果首选环境不可用或启动失败，应用会自动尝试备用方案。

## 功能介绍

### 图像修复 (Inpainting)
使用先进的AI模型修复图片中的损坏区域或移除不需要的对象。

### 图像高清化 (超分辨率)
通过AI技术将低分辨率图片转换为高分辨率图片，提升图像清晰度。

## 技术架构

- **前端框架**: React 17
- **构建工具**: Vite
- **AI模型**：ONNX格式模型
- **服务端**：Node.js 内置HTTP服务器
- **图像处理**: OpenCV-TS

##常见问题及解决方案

### 1. 如果出现"localhost 拒绝了我们的连接请求"错误:
- 请等待几秒钟让服务器完全启动
- 如果仍然无法访问，请检查防火墙设置
- 尝试访问 `http://127.0.0.1:5173`

### 2. 如果端口5173被占用:
- 应用会自动尝试使用其他端口
- 请查看控制台输出确认实际使用的端口

### 3. 如果浏览器没有自动打开:
- 手动打开浏览器并访问 `http://localhost:5173`
- 检查控制台是否有错误信息

### 4. 如果 start.bat 文件执行后窗口闪退:
- 已在文件中添加 pause 命令，防止窗口闪退
- 增加了详细的错误信息输出

## 目录结构

```
Inpaint-web Portable Version/
├── dist/                   # 编译后的前端文件
│   ├── assets/             # 静态资源文件
│   ├── examples/           # 示例图片
│   ├── index.html          # 入口HTML文件
│   ├── migan_pipeline_v2.onnx  # 图像修复模型
│   └── realesrgan-x4.onnx      # 图像高清化模型
├── node/                   # 内置Node.js运行时
├── package.json            # 项目依赖配置
├── server.js               # 主服务器文件
├── server.py               # Python服务器文件
├── simple_server.js        # 简化服务器文件（不依赖外部npm包）
├── start.bat               # 应用启动脚本
└── README.md               # 本说明文件
```

## 注意事项

- 请勿删除任何文件，否则应用可能无法正常运行
- 首次运行时可能需要一些时间加载模型
- 应用已包含所有必要的运行时环境，无需额外安装
- 所有图像处理都在本地完成，不会上传到任何服务器

## 许可证

本项目仅供个人学习和研究使用，请勿用于商业用途。
